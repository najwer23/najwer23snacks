import{j as l}from"./jsx-runtime-DEdD30eg.js";import{r as f}from"./index-RYns6xqu.js";const b="_inputWrapper_1l8so_2",h="_inputLabel_1l8so_7",g="_inputInput_1l8so_15",_="_inputError_1l8so_50",m={inputWrapper:b,inputLabel:h,inputInput:g,inputError:_},N=(t,r)=>r.map(s=>{let e;switch(s.type){case"empty":e=E(t);break;case"email":e=j(t);break;case"numberInRange":e=v(t,s.options);break;case"date":e=y(t);break;default:e=null}return e}).filter(s=>s!==null),E=t=>t.trim()===""||t.trim()===null?"The field cannot be empty":null,j=t=>/^\w+([-]?\w+)*@\w+([-]?\w+)*(\.\w{2,3})+$/.test(t)?null:"Incorrect email address",v=(t,r)=>{const n=Number(t),s=(r==null?void 0:r.min)??0,e=(r==null?void 0:r.max)??1e4;return isNaN(n)||n<s||n>e?`The number must be between ${s} and ${e}`:null},y=t=>(n=>{const s=typeof n=="string"?new Date(n):n,e=s.getFullYear(),u=s.getMonth(),a=s.getDate();let c=[31,28,31,30,31,30,31,31,30,31,30,31];return(e%400==0||e%100!=0&&e%4==0)&&(c[1]=29),a>0&&a<=c[u-1]})(t)?null:"The date is invalid",x=({validatorOptions:t,name:r,label:n,type:s="text",kind:e="input",innerRef:u,inputState:a,...c})=>{const i=f.useRef(null);f.useEffect(()=>{a&&a!="out"&&u!=null&&u.current&&u.current.focus(),a&&a=="out"&&u!=null&&u.current&&u.current.blur()},[a]);const d=I=>{const o=I.target;if(s=="select"&&a!="out"){o.focus();return}if(s=="calendar"&&a!="out"){o.focus();return}if(document.activeElement!==o&&(i.current&&(i.current.textContent=""),t)){const p=N(o.value,t);p.length>0?(i.current.textContent=p[0],o.classList.add("error")):o.classList.remove("error")}};return l.jsxs("div",{className:m.inputWrapper,children:[l.jsx("div",{className:m.inputLabel,children:l.jsx("label",{htmlFor:r,children:n})}),l.jsxs("div",{className:m.inputInput,children:[e=="input"&&l.jsx("input",{ref:u,id:r,name:r,type:s,onInput:d,onBlur:d,...c,className:c.className}),e=="textarea"&&l.jsx("textarea",{id:r,name:r,onInput:d,onBlur:d,...c})]}),l.jsx("div",{ref:i,className:m.inputError})]})};x.displayName="Input";x.__docgenInfo={description:"",methods:[],displayName:"Input",props:{type:{defaultValue:{value:"'text'",computed:!1},required:!1},kind:{defaultValue:{value:"'input'",computed:!1},required:!1}}};export{x as I};

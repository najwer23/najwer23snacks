import{j as l}from"./jsx-runtime-DEdD30eg.js";import{r as x}from"./index-RYns6xqu.js";const b="_inputWrapper_1l8so_2",h="_inputLabel_1l8so_7",g="_inputInput_1l8so_15",_="_inputError_1l8so_50",m={inputWrapper:b,inputLabel:h,inputInput:g,inputError:_},N=(t,r)=>r.map(n=>{let e;switch(n.type){case"empty":e=y(t);break;case"email":e=E(t);break;case"numberInRange":e=j(t,n.options);break;case"date":e=v(t);break;default:e=null}return e}).filter(n=>n!==null),y=t=>t.trim()===""||t.trim()===null?"The field cannot be empty":null,E=t=>/^\w+([-]?\w+)*@\w+([-]?\w+)*(\.\w{2,3})+$/.test(t)?null:"Incorrect email address",j=(t,r)=>{const s=Number(t),n=(r==null?void 0:r.min)??0,e=(r==null?void 0:r.max)??1e4;return isNaN(s)||s<n||s>e?`The number must be between ${n} and ${e}`:null},v=t=>(s=>{const n=typeof s=="string"?new Date(s):s,e=n.getFullYear(),a=n.getMonth(),u=n.getDate();let c=[31,28,31,30,31,30,31,31,30,31,30,31];return(e%400==0||e%100!=0&&e%4==0)&&(c[1]=29),u>0&&u<=c[a-1]})(t)?null:"The date is invalid",I=({validatorOptions:t,name:r,label:s,type:n="text",kind:e="input",innerRef:a,inputState:u,...c})=>{const i=x.useRef(null),d=p=>{const o=p.target;if(!(n=="select"&&p.type=="blur")){if(n=="calendar"&&u!="out"){o.focus();return}if(document.activeElement!==o&&(i.current&&(i.current.textContent=""),t)){const f=N(o.value,t);f.length>0?(i.current.textContent=f[0],o.classList.add("error")):o.classList.remove("error")}}};return x.useEffect(()=>{u&&u!="out"&&a!=null&&a.current&&a.current.focus()},[u]),l.jsxs("div",{className:m.inputWrapper,children:[l.jsx("div",{className:m.inputLabel,children:l.jsx("label",{htmlFor:r,children:s})}),l.jsxs("div",{className:m.inputInput,children:[e=="input"&&l.jsx("input",{ref:a,id:r,name:r,type:n,onInput:d,onBlur:d,...c,className:c.className}),e=="textarea"&&l.jsx("textarea",{id:r,name:r,onInput:d,onBlur:d,...c})]}),l.jsx("div",{ref:i,className:m.inputError})]})};I.displayName="Input";I.__docgenInfo={description:"",methods:[],displayName:"Input",props:{type:{defaultValue:{value:"'text'",computed:!1},required:!1},kind:{defaultValue:{value:"'input'",computed:!1},required:!1}}};export{I};

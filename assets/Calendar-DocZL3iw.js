import{j as e}from"./jsx-runtime-DEdD30eg.js";import{r as g}from"./index-RYns6xqu.js";import{I as M}from"./Input-mE9qLI-8.js";import{B as m}from"./Button-B_v8z9C9.js";const N="_wrapper_1jcs4_2",b="_icon_1jcs4_11",A="_dropdown_1jcs4_26",F="_open_1jcs4_41",Y="_controls_1jcs4_45",R="_controlsDate_1jcs4_53",L="_buttonArrowRight_1jcs4_60",O="_buttonArrowLeft_1jcs4_61",E="_weekdays_1jcs4_93",I="_weekdaysChild_1jcs4_99",B="_days_1jcs4_109",U="_daysChild_1jcs4_116",$="_daysActive_1jcs4_125",P="_daysClickable_1jcs4_130",H="_months_1jcs4_134",V="_years_1jcs4_135",q="_monthsChild_1jcs4_142",z="_yearsChild_1jcs4_143",a={wrapper:N,icon:b,dropdown:A,open:F,controls:Y,controlsDate:R,buttonArrowRight:L,buttonArrowLeft:O,weekdays:E,weekdaysChild:I,days:B,daysChild:U,daysActive:$,daysClickable:P,months:H,years:V,monthsChild:q,yearsChild:z},G=(n,o)=>{const r=typeof n=="string"?new Date(n):n,s=r.getFullYear(),d=r.getMonth(),i=new Date(s,d+1,0).getDate(),l=Math.max(1,Math.min(o,i));return new Date(s,d,l)},J=n=>{const o=typeof n=="string"?new Date(n):n,r=o.getFullYear()-4,s=o.getFullYear()+4;return Array.from({length:s-r+1},(d,i)=>r+i)},K=(n,o)=>{const r=typeof n=="string"?new Date(n):n,s=o,d=r.getMonth(),i=r.getDate();return new Date(s,d,i)},Q=(n,o)=>{const r=typeof n=="string"?new Date(n):n,s=r.getFullYear(),d=r.getMonth()+o,i=r.getDate(),l=new Date(s,d,i);if(l.getDate()!==i){const y=new Date(s,d+1,0).getDate();return new Date(s,d,y)}return l},f=n=>{const o=typeof n=="string"?new Date(n):n,r=o.getFullYear(),s=o.getMonth();return new Date(r,s+1,0).getDate()},T=n=>{const o=typeof n=="string"?new Date(n):n,r=o.getFullYear(),s=o.getMonth();return new Date(r,s,1).getDay()},W=n=>{const o=typeof n=="string"?new Date(n):n,r=o.getFullYear(),s=String(o.getMonth()+1).padStart(2,"0"),d=String(o.getDate()).padStart(2,"0");return`${r}-${s}-${d}`},X=n=>{const o=typeof n=="string"?new Date(n):n,r=o.getDate(),s=(T(o)+6)%7,d=f(o);return Array.from({length:d+s},(i,l)=>{let y="",h="";return l<=s-1?(y="",h="blank"):l===r+s-1?(y=String(l-s+1),h="active"):(y=String(l-s+1),h="clickable"),{day:l-s+1,dayValue:y,cssClass:h}})},x=({validatorOptions:n,name:o,label:r,...s})=>{const d=g.useRef(null),i=g.useRef(null),l=g.useRef(null),[y,h]=g.useState({open:!1,inputState:"out",dropDwonState:"days"}),[c,j]=g.useState(()=>{const t=new Date;return t.setHours(0,0,0,0),t});g.useEffect(()=>{function t(w){d.current&&!d.current.contains(w.target)&&i.current&&!i.current.contains(w.target)&&document.activeElement===l.current&&(h(_=>({..._,inputState:"out",open:!1,dropDwonState:"days"})),l.current.dispatchEvent(new Event("input",{bubbles:!0})))}return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[]);const D=t=>{j(G(c,t))},p=t=>{j(Q(c,t))},u=t=>{j(K(c,t))},C=g.useMemo(()=>Array.from({length:7},(t,w)=>new Date(2021,0,(w+4)%7).toLocaleString("en-US",{weekday:"short"})),[]),k=g.useMemo(()=>Array.from({length:12},(t,w)=>new Date(2021,w+1,0).toLocaleString("en-US",{month:"short"})),[]),S=X(c),v=J(c);return e.jsxs("div",{ref:d,className:[a.wrapper].join(" "),children:[e.jsx("div",{ref:i,className:a.icon,onClick:()=>{h(t=>({...t,inputState:"icon",open:!t.open,dropDwonState:"days"}))}}),e.jsx(M,{innerRef:l,label:r,type:"calendar",kind:"input",name:o,onClick:()=>{h(t=>({...t,inputState:"input",open:!t.open,dropDwonState:"days"}))},value:W(c),inputState:y.inputState,validatorOptions:n,className:a.arrowUp,autoComplete:"off",readOnly:!0,...s}),e.jsxs("div",{className:[a.dropdown,y.open?a.open:""].join(" "),children:[y.dropDwonState=="years"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:[a.controls].join(" "),style:{marginBottom:"10px"},children:[e.jsx("div",{style:{width:"30px"},onClick:()=>u(c.getFullYear()-9),children:e.jsx(m,{kind:"calendar",children:e.jsx("div",{className:[a.buttonArrowLeft].join(" "),children:" "})})}),e.jsx("div",{style:{width:"60%"},className:a.controlsDate,children:e.jsx("div",{style:{cursor:"pointer"},onClick:()=>{h(t=>({...t,dropDwonState:"days"}))},children:c.getFullYear()})}),e.jsx("div",{style:{width:"30px"},onClick:()=>u(c.getFullYear()+9),children:e.jsx(m,{kind:"calendar",children:e.jsx("div",{className:[a.buttonArrowRight].join(" "),children:" "})})})]}),e.jsx("div",{className:[a.years].join(" "),children:v.map(t=>e.jsx("div",{className:a.yearsChild,children:e.jsx(m,{style:{width:"80px"},onClick:()=>{u(t),h(w=>({...w,dropDwonState:"days"}))},disabled:c.getFullYear()==t,children:t})},t+String(c)))})]}),y.dropDwonState=="months"&&e.jsx(e.Fragment,{children:e.jsx("div",{className:[a.months].join(" "),children:k.map((t,w)=>e.jsx("div",{className:a.monthsChild,children:e.jsx(m,{style:{width:"80px"},onClick:()=>{p(w-c.getMonth()),h(_=>({..._,dropDwonState:"days"}))},disabled:c.getMonth()==w,children:t})},t+String(c)))})}),y.dropDwonState=="days"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:[a.controls].join(" "),children:[e.jsx("div",{style:{width:"30px"},onClick:()=>p(-1),children:e.jsx(m,{kind:"calendar",children:e.jsx("div",{className:[a.buttonArrowLeft].join(" "),children:" "})})}),e.jsxs("div",{style:{width:"60%"},className:a.controlsDate,children:[e.jsx("div",{style:{cursor:"pointer"},onClick:()=>{h(t=>({...t,dropDwonState:"years"}))},children:c.getFullYear()}),e.jsx("div",{children:"-"}),e.jsx("div",{style:{cursor:"pointer"},onClick:()=>{h(t=>({...t,dropDwonState:"months"}))},children:String(c.getMonth()+1).padStart(2,"0")}),e.jsx("div",{children:"-"}),e.jsx("div",{children:String(c.getDate()).padStart(2,"0")})]}),e.jsx("div",{style:{width:"30px"},onClick:()=>p(1),children:e.jsx(m,{kind:"calendar",children:e.jsx("div",{className:[a.buttonArrowRight].join(" "),children:" "})})})]}),e.jsx("div",{className:[a.weekdays].join(" "),children:C.map(t=>e.jsx("div",{className:a.weekdaysChild,children:t},t))}),e.jsx("div",{className:[a.days].join(" "),children:S.map(t=>e.jsx("div",{className:[a.weekdaysChild,a.daysChild,t.cssClass=="active"&&a.daysActive,t.cssClass=="clickable"&&a.daysClickable].join(" "),onClick:()=>t.day>0&&D(t.day),children:t.day<=0||t.day>f(c)?" ":t.day},t.day+String(c)))})]})]})]})};x.displayName="Calendar";x.__docgenInfo={description:"",methods:[],displayName:"Calendar"};export{x as C};
